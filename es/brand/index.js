/*!
 * ***********************************
 * @ldesign/color v1.0.0           *
 * Built with rollup               *
 * Build time: 2024-10-21 14:32:31 *
 * Build mode: production          *
 * Minified: No                    *
 * ***********************************
 */import{Color as a}from"../core/Color.js";import"../core/conversions.js";import{generateSemanticColors as b,generateTailwindPalette as p}from"../core/palette.js";class d{constructor(o){this.config=o,this.initializeColors()}initializeColors(){if(!this.config.colors.primary)throw new Error("Primary color is required for brand");if(!this.config.colors.success||!this.config.colors.warning||!this.config.colors.danger||!this.config.colors.info){const o=b(this.config.colors.primary);this.config.colors.success=this.config.colors.success||new a(o.success),this.config.colors.warning=this.config.colors.warning||new a(o.warning),this.config.colors.danger=this.config.colors.danger||new a(o.danger),this.config.colors.info=this.config.colors.info||new a(o.info)}if(!this.config.colors.neutral){const o=this.config.colors.primary.toHSL();this.config.colors.neutral=a.fromHSL(o.h,10,50)}}setBrandColors(o){this.config.colors={...this.config.colors,...o},this.initializeColors(),this.palette=void 0}generateBrandPalette(){if(this.palette)return this.palette;const o=this.config.colors,t={};for(const[s,r]of Object.entries(o))if(r){const n=p(r);t[s]=n}const e=this.generateSemantics(o);return this.palette={colors:o,shades:t,semantics:e},this.palette}generateSemantics(o){const t=o.primary,e=t.isDark();return{text:{primary:e?"#ffffff":"#000000",secondary:e?"rgba(255,255,255,0.7)":"rgba(0,0,0,0.7)",tertiary:e?"rgba(255,255,255,0.5)":"rgba(0,0,0,0.5)",disabled:e?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.3)",inverse:e?"#000000":"#ffffff"},background:{primary:"#ffffff",secondary:"#f5f5f5",tertiary:"#eeeeee",overlay:"rgba(0,0,0,0.5)",elevated:"#ffffff"},border:{light:"rgba(0,0,0,0.08)",medium:"rgba(0,0,0,0.12)",heavy:"rgba(0,0,0,0.24)",focus:t.toHex()},status:{success:o.success?.toHex()||"#4caf50",warning:o.warning?.toHex()||"#ff9800",danger:o.danger?.toHex()||"#f44336",info:o.info?.toHex()||"#2196f3"}}}ensureBrandConsistency(){const o=[],t=[],e=this.generateBrandPalette();if(this.config.constraints?.minContrast){const n=this.config.constraints.minContrast,i=new a("#ffffff");for(const[c,l]of Object.entries(e.colors))if(l){const u=l.contrast(i);u<n&&(o.push(`${c} color has insufficient contrast (${u.toFixed(2)})`),t.push(`Consider darkening ${c} color to improve contrast`))}}const s=Object.values(e.colors).filter(Boolean),r=this.checkColorHarmony(s);if(r<.7&&(o.push(`Color harmony is low (${(r*100).toFixed(0)}%)`),t.push("Consider using colors from the same color scheme")),this.config.constraints?.maxColors){const n=Object.values(e.colors).filter(Boolean).length;n>this.config.constraints.maxColors&&(o.push(`Too many brand colors (${n} > ${this.config.constraints.maxColors})`),t.push("Consider reducing the number of brand colors for simplicity"))}return{consistent:o.length===0,issues:o,suggestions:t}}checkColorHarmony(o){if(o.length<2)return 1;let t=0,e=0;for(let s=0;s<o.length-1;s++)for(let r=s+1;r<o.length;r++){const n=o[s].toHSL(),i=o[r].toHSL(),c=Math.abs(n.h-i.h),l=Math.min(c,360-c),u=[0,30,60,90,120,150,180].reduce((h,g)=>Math.abs(l-g)<Math.abs(l-h)?g:h,0),m=1-Math.abs(l-u)/30;t+=m,e++}return t/e}exportBrandGuidelines(o={}){const{format:t="json",includeUsageExamples:e=!0,includeAccessibilityInfo:s=!0,includeColorTheory:r=!1}=o,n=this.generateBrandPalette(),i=this.ensureBrandConsistency(),c={brand:this.config.name,description:this.config.description,metadata:this.config.metadata,palette:n,consistency:i};return e&&(c.usageExamples=this.generateUsageExamples()),s&&(c.accessibility=this.generateAccessibilityInfo()),r&&(c.colorTheory=this.generateColorTheory()),this.formatOutput(c,t)}generateUsageExamples(){const o=this.generateBrandPalette();return{buttons:{primary:{background:o.colors.primary.toHex(),text:o.semantics.text.inverse,hover:o.colors.primary.darken(10).toHex()},secondary:{background:o.colors.secondary?.toHex()||o.colors.primary.lighten(40).toHex(),text:o.semantics.text.primary,hover:o.colors.secondary?.darken(10).toHex()}},cards:{background:o.semantics.background.elevated,border:o.semantics.border.light,shadow:"0 2px 4px rgba(0,0,0,0.1)"},forms:{input:{border:o.semantics.border.medium,focusBorder:o.semantics.border.focus,background:o.semantics.background.primary}}}}generateAccessibilityInfo(){const o=this.generateBrandPalette(),t={contrastRatios:{},wcagCompliance:{}},e=new a("#ffffff"),s=new a("#000000");for(const[r,n]of Object.entries(o.colors))n&&(t.contrastRatios[r]={onWhite:n.contrast(e),onBlack:n.contrast(s)},t.wcagCompliance[r]={AA:{normalText:n.contrast(e)>=4.5,largeText:n.contrast(e)>=3},AAA:{normalText:n.contrast(e)>=7,largeText:n.contrast(e)>=4.5}});return t}generateColorTheory(){const o=this.generateBrandPalette().colors.primary.toHSL();return{primaryHue:o.h,colorScheme:this.detectColorScheme(),psychology:this.getColorPsychology(o.h),temperature:o.h>=0&&o.h<=60||o.h>=300?"warm":"cool"}}detectColorScheme(){const o=Object.values(this.config.colors).filter(Boolean);if(o.length<2)return"monochromatic";const t=o.map(r=>r.toHSL().h),e=[];for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){const i=Math.abs(t[r]-t[n]);e.push(Math.min(i,360-i))}const s=e.reduce((r,n)=>r+n,0)/e.length;return s<30?"analogous":s>150&&s<210?"complementary":s>110&&s<130?"triadic":"custom"}getColorPsychology(o){return o>=0&&o<30?"\u70ED\u60C5\u3001\u6D3B\u529B\u3001\u6FC0\u60C5":o>=30&&o<60?"\u6E29\u6696\u3001\u53CB\u597D\u3001\u521B\u9020\u529B":o>=60&&o<120?"\u81EA\u7136\u3001\u6210\u957F\u3001\u548C\u8C10":o>=120&&o<180?"\u6E05\u65B0\u3001\u5E73\u9759\u3001\u4FE1\u4EFB":o>=180&&o<240?"\u4E13\u4E1A\u3001\u7A33\u5B9A\u3001\u667A\u6167":o>=240&&o<300?"\u795E\u79D8\u3001\u521B\u65B0\u3001\u5962\u534E":"\u6D6A\u6F2B\u3001\u6E29\u67D4\u3001\u68A6\u5E7B"}formatOutput(o,t){switch(t){case"css":return this.toCSS(o);case"scss":return this.toSCSS(o);case"less":return this.toLESS(o);case"stylus":return this.toStylus(o);default:return JSON.stringify(o,null,2)}}toCSS(o){const t=o.palette;let e=`:root {
`;for(const[s,r]of Object.entries(t.colors))r&&(e+=`  --brand-${s}: ${r.toHex()};
`);for(const[s,r]of Object.entries(t.shades))for(const[n,i]of Object.entries(r))e+=`  --brand-${s}-${n}: ${i};
`;return e+=`}
`,e}toSCSS(o){const t=o.palette;let e=`// Brand Colors
`;for(const[s,r]of Object.entries(t.colors))r&&(e+=`$brand-${s}: ${r.toHex()};
`);e+=`
// Color Shades
`;for(const[s,r]of Object.entries(t.shades)){e+=`$brand-${s}-shades: (
`;for(const[n,i]of Object.entries(r))e+=`  ${n}: ${i},
`;e+=`);
`}return e}toLESS(o){const t=o.palette;let e=`// Brand Colors
`;for(const[s,r]of Object.entries(t.colors))r&&(e+=`@brand-${s}: ${r.toHex()};
`);return e}toStylus(o){const t=o.palette;let e=`// Brand Colors
`;for(const[s,r]of Object.entries(t.colors))r&&(e+=`brand-${s} = ${r.toHex()}
`);return e}}function y(f,o,t={}){return new d({name:f,colors:{primary:new a(o)},...t})}/*! End of @ldesign/color | Powered by @ldesign/builder */export{d as BrandColorManager,y as createBrandManager};
//# sourceMappingURL=index.js.map
