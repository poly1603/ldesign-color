/*!
 * ***********************************
 * @ldesign/color v1.0.0           *
 * Built with rollup               *
 * Build time: 2024-10-21 14:32:31 *
 * Build mode: production          *
 * Minified: No                    *
 * ***********************************
 */import{Color as h}from"../core/Color.js";class F{static generate(e,u,t={}){const{count:a=5,variation:n=20,preserveLightness:r=!1,preserveSaturation:s=!1}=t;let o=[],c="";switch(u){case"monochromatic":o=this.generateMonochromatic(e,a,n),c="\u5355\u8272\u7CFB\u65B9\u6848\uFF1A\u4F7F\u7528\u540C\u4E00\u8272\u76F8\u7684\u4E0D\u540C\u660E\u5EA6\u548C\u9971\u548C\u5EA6";break;case"analogous":o=this.generateAnalogous(e,a),c="\u7C7B\u4F3C\u8272\u65B9\u6848\uFF1A\u4F7F\u7528\u8272\u8F6E\u4E0A\u76F8\u90BB\u7684\u989C\u8272";break;case"complementary":o=this.generateComplementary(e),c="\u4E92\u8865\u8272\u65B9\u6848\uFF1A\u4F7F\u7528\u8272\u8F6E\u4E0A\u76F8\u5BF9\u7684\u989C\u8272";break;case"split-complementary":o=this.generateSplitComplementary(e),c="\u5206\u88C2\u4E92\u8865\u65B9\u6848\uFF1A\u4F7F\u7528\u57FA\u8272\u548C\u5176\u4E92\u8865\u8272\u7684\u90BB\u8FD1\u8272";break;case"triadic":o=this.generateTriadic(e),c="\u4E09\u89D2\u8272\u65B9\u6848\uFF1A\u4F7F\u7528\u8272\u8F6E\u4E0A\u7B49\u8DDD\u7684\u4E09\u4E2A\u989C\u8272";break;case"tetradic":o=this.generateTetradic(e),c="\u56DB\u89D2\u8272\u65B9\u6848\uFF1A\u4F7F\u7528\u4E24\u5BF9\u4E92\u8865\u8272";break;case"square":o=this.generateSquare(e),c="\u6B63\u65B9\u5F62\u65B9\u6848\uFF1A\u4F7F\u7528\u8272\u8F6E\u4E0A\u5F62\u6210\u6B63\u65B9\u5F62\u7684\u56DB\u4E2A\u989C\u8272";break;case"compound":o=this.generateCompound(e,a),c="\u590D\u5408\u8272\u65B9\u6848\uFF1A\u7ED3\u5408\u4E92\u8865\u8272\u548C\u7C7B\u4F3C\u8272";break}if(r||s){const i=e.toHSL();o=o.map(g=>{const l=g.toHSL();return r&&(l.l=i.l),s&&(l.s=i.s),new h(l)})}return t.enhanceHarmony&&u!=="monochromatic"&&(o=this.adjustHarmony(o,e)),{type:u,colors:o,base:e,description:c,harmony:this.evaluateHarmony({type:u,colors:o,base:e,description:c})}}static generateAdaptive(e,u={}){let t="analogous";const a=e.toHSL();return a.s<20?t="monochromatic":a.s>80&&a.l>40&&a.l<60?t="complementary":a.l<30||a.l>70?t="analogous":t="triadic",this.generate(e,t,u)}static generateAll(e,u={}){return["monochromatic","analogous","complementary","split-complementary","triadic","tetradic","square","compound"].map(t=>this.generate(e,t,u))}static generateMonochromatic(e,u,t){const a=e.toHSL(),n=[e];for(let r=1;r<u;r++){const s={...a};s.l=Math.max(0,Math.min(100,a.l+(r-u/2)*(t/u)*2)),s.s=Math.max(0,Math.min(100,a.s+(r-u/2)*(t/u))),n.push(new h(s))}return n}static generateAnalogous(e,u){const t=e.toHSL(),a=[e],n=30/(u-1);for(let r=1;r<u;r++){const s={...t};s.h=(t.h+r*n-15+360)%360,a.push(new h(s))}return a}static generateComplementary(e){const u=e.toHSL(),t={...u};return t.h=(u.h+180)%360,[e,new h(t)]}static generateSplitComplementary(e){const u=e.toHSL(),t={...u},a={...u};return t.h=(u.h+150)%360,a.h=(u.h+210)%360,[e,new h(t),new h(a)]}static generateTriadic(e){const u=e.toHSL(),t=[e];for(let a=1;a<3;a++){const n={...u};n.h=(u.h+a*120)%360,t.push(new h(n))}return t}static generateTetradic(e){const u=e.toHSL(),t=[e],a=[60,180,240];for(const n of a){const r={...u};r.h=(u.h+n)%360,t.push(new h(r))}return t}static generateSquare(e){const u=e.toHSL(),t=[e];for(let a=1;a<4;a++){const n={...u};n.h=(u.h+a*90)%360,t.push(new h(n))}return t}static generateCompound(e,u){const t=e.toHSL(),a=[e],n={...t};n.h=(t.h+180)%360,a.push(new h(n));for(let r=2;r<u;r++){const s={...t},o=(r-1)*15*(r%2===0?1:-1);s.h=(t.h+o+360)%360,a.push(new h(s))}return a}static adjustHarmony(e,u){const t=u.toHSL();return e.map(a=>{const n=a.toHSL(),r=Math.abs(n.h-t.h);if(r>0&&r<180){const s=([30,60,90,120,150,180].reduce((o,c)=>Math.abs(c-r)<Math.abs(o-r)?c:o)-r)*.3;n.h=(n.h+s+360)%360}return n.s=n.s*.9+t.s*.1,n.l=n.l*.95+t.l*.05,new h(n)})}static evaluateHarmony(e){const{colors:u}=e;if(u.length<2)return 100;let t=0,a=0;for(let n=0;n<u.length-1;n++)for(let r=n+1;r<u.length;r++){const s=u[n].toHSL(),o=u[r].toHSL(),c=Math.abs(s.h-o.h),i=Math.min(c,360-c),g=Math.abs(s.s-o.s),l=Math.abs(s.l-o.l);let m=100;i===180||i===120||i===90?m*=1.2:i<30?m*=1.1:i>150&&i<210&&(m*=1.15),g>20&&g<50&&(m*=1.1),l>20&&l<50&&(m*=1.1),t+=Math.min(100,m),a++}return Math.round(t/a)}}const p=F.generate,A=F.generateAdaptive,C=F.generateAll,B=F.evaluateHarmony;/*! End of @ldesign/color | Powered by @ldesign/builder */export{F as ColorSchemeGenerator,B as evaluateHarmony,A as generateAdaptiveScheme,C as generateAllSchemes,p as generateColorScheme};
//# sourceMappingURL=index.js.map
