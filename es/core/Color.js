/*!
 * ***********************************
 * @ldesign/color v1.0.0           *
 * Built with rollup               *
 * Build time: 2024-10-21 14:32:31 *
 * Build mode: production          *
 * Minified: No                    *
 * ***********************************
 */import{ColorCache as d}from"../utils/cache.js";import{clamp as i,round as n}from"../utils/math.js";import{parseColorInput as S}from"../utils/validators.js";import{getLuminance as b,getContrast as F,isWCAGCompliant as G}from"./analysis.js";import{hslToRgb as H,hsvToRgb as R,rgbToHsl as w,rgbToHsv as B}from"./conversions.js";import{blend as L}from"./manipulations.js";class s{constructor(t="#000000"){const e=S(t);this._value=e.rgb.r<<16|e.rgb.g<<8|e.rgb.b,this._alpha=e.alpha??1}static fromRGB(t,e,a,r){t=i(t|0,0,255),e=i(e|0,0,255),a=i(a|0,0,255);let h=this.pool.pop();return h||(h=new s),h._value=t<<16|e<<8|a,h._alpha=r!==void 0?i(r,0,1):1,h._hex=void 0,h}static fromHSL(t,e,a,r){const h=H({h:t,s:e,l:a});return s.fromRGB(h.r,h.g,h.b,r)}static fromHSV(t,e,a,r){const h=R({h:t,s:e,v:a});return s.fromRGB(h.r,h.g,h.b,r)}static random(){return s.fromRGB(Math.floor(Math.random()*256),Math.floor(Math.random()*256),Math.floor(Math.random()*256))}get red(){return this._value>>16&255}get green(){return this._value>>8&255}get blue(){return this._value&255}get alpha(){return this._alpha}get hue(){return this.toHSL().h}get saturation(){return this.toHSL().s}get lightness(){return this.toHSL().l}get brightness(){return this.toHSV().v}toHex(t=!1){if(!t&&this._hex)return this._hex;const e=`#${`000000${this._value.toString(16)}`.slice(-6).toUpperCase()}`;if(!t)return this._hex=e,e;if(this._alpha<1){const a=`0${(this._alpha*255|0).toString(16)}`.slice(-2);return e+a}return e}toRGB(){let t=s.rgbPool.pop();return t||(t={}),t.r=this._value>>16&255,t.g=this._value>>8&255,t.b=this._value&255,this._alpha<1?t.a=this._alpha:delete t.a,t}static returnRGB(t){s.rgbPool.length<s.rgbPoolSize&&s.rgbPool.push(t)}toRGBString(){const t=this._value>>16&255,e=this._value>>8&255,a=this._value&255;return this._alpha<1?`rgba(${t}, ${e}, ${a}, ${this._alpha})`:`rgb(${t}, ${e}, ${a})`}toHSL(){const t=this.toRGB(),e=w(t);return s.returnRGB(t),this._alpha<1&&(e.a=this._alpha),e}toHSLString(){const{h:t,s:e,l:a}=this.toHSL();return this._alpha<1?`hsla(${n(t)}, ${n(e)}%, ${n(a)}%, ${this._alpha})`:`hsl(${n(t)}, ${n(e)}%, ${n(a)}%)`}toHSV(){const t=this.toRGB(),e=B(t);return s.returnRGB(t),this._alpha<1&&(e.a=this._alpha),e}toString(t="hex"){switch(t){case"hex":return this.toHex();case"rgb":case"rgba":return this.toRGBString();case"hsl":case"hsla":return this.toHSLString();default:return this.toHex()}}lighten(t){const e=this.toHSL();return e.l=i(e.l+t,0,100),s.fromHSL(e.h,e.s,e.l,this._alpha)}darken(t){return this.lighten(-t)}saturate(t){const e=this.toHSL();return e.s=i(e.s+t,0,100),s.fromHSL(e.h,e.s,e.l,this._alpha)}desaturate(t){return this.saturate(-t)}rotate(t){const e=this.toHSL();return e.h=(e.h+t)%360,e.h<0&&(e.h+=360),s.fromHSL(e.h,e.s,e.l,this._alpha)}grayscale(){return this.desaturate(100)}invert(){const t=255-(this._value>>16&255),e=255-(this._value>>8&255),a=255-(this._value&255);return s.fromRGB(t,e,a,this._alpha)}release(){s.pool.length<s.poolSize&&(this._hex=void 0,s.pool.push(this))}static cleanup(){this.cache.clear(),this.pool.length=0,this.rgbPool.length=0}setAlpha(t){const e=this.clone();return e._alpha=i(t,0,1),e}fade(t){return this.setAlpha(i(this._alpha-t/100,0,1))}mix(t,e=50){const a=t instanceof s?t:new s(t),r=e/100,h=1-r,o=this._value>>16&255,l=this._value>>8&255,u=this._value&255,c=a._value>>16&255,p=a._value>>8&255,g=a._value&255,m=o*h+c*r|0,v=l*h+p*r|0,f=u*h+g*r|0,_=this._alpha*h+a._alpha*r;return s.fromRGB(m,v,f,_)}blend(t,e="normal"){const a=t instanceof s?t:new s(t),r=L(this.toRGB(),a.toRGB(),e);return s.fromRGB(r.r,r.g,r.b,this._alpha)}getLuminance(){return b(this.toRGB())}contrast(t){const e=t instanceof s?t:new s(t);return F(this.toRGB(),e.toRGB())}isLight(){return this.getLuminance()>.5}isDark(){return!this.isLight()}isWCAGCompliant(t,e="AA",a="normal"){const r=t instanceof s?t:new s(t);return G(this.toRGB(),r.toRGB(),e,a)}complementary(){return this.rotate(180)}analogous(t=30){return[this.rotate(-t),this.rotate(t)]}triadic(){return[this.rotate(120),this.rotate(240)]}tetradic(){return[this.rotate(90),this.rotate(180),this.rotate(270)]}splitComplementary(t=30){const e=this.rotate(180);return[e.rotate(-t),e.rotate(t)]}harmony(t){switch(t){case"complementary":return[this,this.complementary()];case"analogous":return[this,...this.analogous()];case"triadic":return[this,...this.triadic()];case"tetradic":return[this,...this.tetradic()];case"split-complementary":return[this,...this.splitComplementary()];case"monochromatic":return[this,this.lighten(15),this.lighten(30),this.darken(15),this.darken(30)];default:return[this]}}clone(){const t=s.pool.pop()||new s;return t._value=this._value,t._alpha=this._alpha,t._hex=void 0,t}dispose(){s.pool.length<s.poolSize&&(this._hex=void 0,s.pool.push(this))}equals(t){const e=t instanceof s?t:new s(t);return this._value===e._value&&this._alpha===e._alpha}distance(t){const e=t instanceof s?t:new s(t),a=(this._value>>16&255)-(e._value>>16&255),r=(this._value>>8&255)-(e._value>>8&255),h=(this._value&255)-(e._value&255);return Math.sqrt(a*a+r*r+h*h)}isValid(){return this._value>=0&&this._value<=16777215&&this._alpha>=0&&this._alpha<=1}toJSON(){return{rgb:this.toRGB(),hsl:this.toHSL(),hsv:this.toHSV(),hex:this.toHex(!0),alpha:this._alpha,luminance:this.getLuminance()}}}s.cache=new d(50),s.pool=[],s.poolSize=10,s.rgbPool=[],s.rgbPoolSize=20;const $=new s("#000000"),x=new s("#FFFFFF"),y=new s("#FF0000"),M=new s("#00FF00"),P=new s("#0000FF"),A=new s("#FFFF00"),k=new s("#00FFFF"),z=new s("#FF00FF"),T=new s("rgba(0,0,0,0)"),V={black:()=>$.clone(),white:()=>x.clone(),red:()=>y.clone(),green:()=>M.clone(),blue:()=>P.clone(),yellow:()=>A.clone(),cyan:()=>k.clone(),magenta:()=>z.clone(),transparent:()=>T.clone()};/*! End of @ldesign/color | Powered by @ldesign/builder */export{s as Color,V as Colors};
//# sourceMappingURL=Color.js.map
