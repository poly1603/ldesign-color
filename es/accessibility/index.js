/*!
 * ***********************************
 * @ldesign/color v1.0.0           *
 * Built with rollup               *
 * Build time: 2024-10-21 14:32:31 *
 * Build mode: production          *
 * Minified: No                    *
 * ***********************************
 */import{isWCAGCompliant as l,getContrast as c}from"../core/analysis.js";import{Color as i}from"../core/Color.js";const f={protanopia:[[.567,.433,0],[.558,.442,0],[0,.242,.758]],deuteranopia:[[.625,.375,0],[.7,.3,0],[0,.3,.7]],tritanopia:[[.95,.05,0],[0,.433,.567],[0,.475,.525]],protanomaly:[[.817,.183,0],[.333,.667,0],[0,.125,.875]],deuteranomaly:[[.8,.2,0],[.258,.742,0],[0,.142,.858]],tritanomaly:[[.967,.033,0],[0,.733,.267],[0,.183,.817]],achromatopsia:[[.299,.587,.114],[.299,.587,.114],[.299,.587,.114]],achromatomaly:[[.618,.32,.062],[.163,.775,.062],[.163,.32,.516]]};class s{static simulateColorBlindness(o,e){const t=o.toRGB(),a=f[e],r=Math.round(t.r*a[0][0]+t.g*a[0][1]+t.b*a[0][2]),n=Math.round(t.r*a[1][0]+t.g*a[1][1]+t.b*a[1][2]),u=Math.round(t.r*a[2][0]+t.g*a[2][1]+t.b*a[2][2]);return i.fromRGB(Math.min(255,Math.max(0,r)),Math.min(255,Math.max(0,n)),Math.min(255,Math.max(0,u)),t.a)}static autoAdjustForWCAG(o,e,t="AA",a="normal"){let r=o,n=0;const u=20;if(l(o.toRGB(),e.toRGB(),t,a))return o;const A=e.lightness>50;for(;n<u;){if(A?r=r.darken(5):r=r.lighten(5),l(r.toRGB(),e.toRGB(),t,a))return r;n++}for(r=o,n=0;n<u;){if(A?r=r.lighten(5):r=r.darken(5),l(r.toRGB(),e.toRGB(),t,a))return r;n++}const g=c({r:0,g:0,b:0},e.toRGB()),m=c({r:255,g:255,b:255},e.toRGB());return g>m?new i("#000000"):new i("#ffffff")}static suggestAccessiblePairs(o,e=5){const t=[],a=[()=>o.lighten(30),()=>o.darken(30),()=>o.lighten(50),()=>o.darken(50),()=>o.rotate(180),()=>o.rotate(180).lighten(20),()=>o.rotate(180).darken(20),()=>new i("#000000"),()=>new i("#ffffff")];for(const r of a){if(t.length>=e)break;const n=r(),u=c(n.toRGB(),o.toRGB());t.push({color:n,contrast:u,wcagAA:u>=4.5,wcagAAA:u>=7})}return t.sort((r,n)=>n.contrast-r.contrast),t.slice(0,e)}static getAccessibilityReport(o,e){const t=c(o.toRGB(),e.toRGB());return{contrast:t,wcagAA:{normal:t>=4.5,large:t>=3},wcagAAA:{normal:t>=7,large:t>=4.5},recommendation:this.getRecommendation(t)}}static getRecommendation(o){return o>=7?"\u6781\u4F73 - \u6EE1\u8DB3\u6240\u6709WCAG\u6807\u51C6":o>=4.5?"\u826F\u597D - \u6EE1\u8DB3WCAG AA\u6807\u51C6":o>=3?"\u53EF\u63A5\u53D7 - \u4EC5\u9002\u7528\u4E8E\u5927\u6587\u672C":"\u5DEE - \u4E0D\u6EE1\u8DB3WCAG\u6807\u51C6\uFF0C\u5EFA\u8BAE\u8C03\u6574"}}const h=s.simulateColorBlindness,B=s.autoAdjustForWCAG,C=s.suggestAccessiblePairs,G=s.getAccessibilityReport;/*! End of @ldesign/color | Powered by @ldesign/builder */export{s as ColorAccessibility,B as autoAdjustForWCAG,G as getAccessibilityReport,h as simulateColorBlindness,C as suggestAccessiblePairs};
//# sourceMappingURL=index.js.map
