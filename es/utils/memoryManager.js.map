{"version":3,"file":"memoryManager.js","sources":["../../src/utils/memoryManager.ts"],"sourcesContent":[null],"names":["MemoryManager","constructor","cleanupInterval","CLEANUP_INTERVAL","MAX_MEMORY_MB","memoryCheckTimer","startAutoCleanup","document","addEventListener","handleVisibilityChange","bind","window","cleanup","once","getInstance","instance","hidden","reduceMemoryUsage","setInterval","performAutoCleanup","stopAutoCleanup","clearInterval","stats","getMemoryStats","estimatedMemoryMB","aggressiveCleanup","moderateCleanup","colorPoolSize","Color","pool","length","colorCacheSize","basicCache","size","advancedCacheSize","advancedCache","totalCacheItems","estimatedMemoryBytes","Math","floor","optimize","keysToRemove","cache","keys","Array","from","i","delete","toRemove","splice","min","toKeep","topItems","getMostFrequent","clear","forEach","item","set","key","value","destroy","clearTimeout","reset","hits","misses","setMemoryLimit","limitMB","max","setAutoCleanup","enabled","requestGarbageCollection","gc","memoryManager","cleanupMemory","resetMemory"],"mappings":"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"}