"use strict";/*!
 * ***********************************
 * @ldesign/color v1.0.0           *
 * Built with rollup               *
 * Build time: 2024-10-21 14:32:31 *
 * Build mode: production          *
 * Minified: No                    *
 * ***********************************
 */var n=require("../core/analysis.cjs"),u=require("../core/Color.cjs");const C={protanopia:[[.567,.433,0],[.558,.442,0],[0,.242,.758]],deuteranopia:[[.625,.375,0],[.7,.3,0],[0,.3,.7]],tritanopia:[[.95,.05,0],[0,.433,.567],[0,.475,.525]],protanomaly:[[.817,.183,0],[.333,.667,0],[0,.125,.875]],deuteranomaly:[[.8,.2,0],[.258,.742,0],[0,.142,.858]],tritanomaly:[[.967,.033,0],[0,.733,.267],[0,.183,.817]],achromatopsia:[[.299,.587,.114],[.299,.587,.114],[.299,.587,.114]],achromatomaly:[[.618,.32,.062],[.163,.775,.062],[.163,.32,.516]]};class l{static simulateColorBlindness(o,a){const t=o.toRGB(),e=C[a],r=Math.round(t.r*e[0][0]+t.g*e[0][1]+t.b*e[0][2]),s=Math.round(t.r*e[1][0]+t.g*e[1][1]+t.b*e[1][2]),i=Math.round(t.r*e[2][0]+t.g*e[2][1]+t.b*e[2][2]);return u.Color.fromRGB(Math.min(255,Math.max(0,r)),Math.min(255,Math.max(0,s)),Math.min(255,Math.max(0,i)),t.a)}static autoAdjustForWCAG(o,a,t="AA",e="normal"){let r=o,s=0;const i=20;if(n.isWCAGCompliant(o.toRGB(),a.toRGB(),t,e))return o;const c=a.lightness>50;for(;s<i;){if(c?r=r.darken(5):r=r.lighten(5),n.isWCAGCompliant(r.toRGB(),a.toRGB(),t,e))return r;s++}for(r=o,s=0;s<i;){if(c?r=r.lighten(5):r=r.darken(5),n.isWCAGCompliant(r.toRGB(),a.toRGB(),t,e))return r;s++}const A=n.getContrast({r:0,g:0,b:0},a.toRGB()),g=n.getContrast({r:255,g:255,b:255},a.toRGB());return A>g?new u.Color("#000000"):new u.Color("#ffffff")}static suggestAccessiblePairs(o,a=5){const t=[],e=[()=>o.lighten(30),()=>o.darken(30),()=>o.lighten(50),()=>o.darken(50),()=>o.rotate(180),()=>o.rotate(180).lighten(20),()=>o.rotate(180).darken(20),()=>new u.Color("#000000"),()=>new u.Color("#ffffff")];for(const r of e){if(t.length>=a)break;const s=r(),i=n.getContrast(s.toRGB(),o.toRGB());t.push({color:s,contrast:i,wcagAA:i>=4.5,wcagAAA:i>=7})}return t.sort((r,s)=>s.contrast-r.contrast),t.slice(0,a)}static getAccessibilityReport(o,a){const t=n.getContrast(o.toRGB(),a.toRGB());return{contrast:t,wcagAA:{normal:t>=4.5,large:t>=3},wcagAAA:{normal:t>=7,large:t>=4.5},recommendation:this.getRecommendation(t)}}static getRecommendation(o){return o>=7?"\u6781\u4F73 - \u6EE1\u8DB3\u6240\u6709WCAG\u6807\u51C6":o>=4.5?"\u826F\u597D - \u6EE1\u8DB3WCAG AA\u6807\u51C6":o>=3?"\u53EF\u63A5\u53D7 - \u4EC5\u9002\u7528\u4E8E\u5927\u6587\u672C":"\u5DEE - \u4E0D\u6EE1\u8DB3WCAG\u6807\u51C6\uFF0C\u5EFA\u8BAE\u8C03\u6574"}}const m=l.simulateColorBlindness,G=l.autoAdjustForWCAG,B=l.suggestAccessiblePairs,d=l.getAccessibilityReport;exports.ColorAccessibility=l,exports.autoAdjustForWCAG=G,exports.getAccessibilityReport=d,exports.simulateColorBlindness=m,exports.suggestAccessiblePairs=B;/*! End of @ldesign/color | Powered by @ldesign/builder */
//# sourceMappingURL=index.cjs.map
