"use strict";/*!
 * ***********************************
 * @ldesign/color v1.0.0           *
 * Built with rollup               *
 * Build time: 2024-10-21 14:32:31 *
 * Build mode: production          *
 * Minified: No                    *
 * ***********************************
 */var b=require("../utils/cache.cjs"),n=require("../utils/math.cjs"),f=require("../utils/validators.cjs"),l=require("./analysis.cjs"),i=require("./conversions.cjs"),F=require("./manipulations.cjs");class a{constructor(t="#000000"){const e=f.parseColorInput(t);this._value=e.rgb.r<<16|e.rgb.g<<8|e.rgb.b,this._alpha=e.alpha??1}static fromRGB(t,e,s,h){t=n.clamp(t|0,0,255),e=n.clamp(e|0,0,255),s=n.clamp(s|0,0,255);let r=this.pool.pop();return r||(r=new a),r._value=t<<16|e<<8|s,r._alpha=h!==void 0?n.clamp(h,0,1):1,r._hex=void 0,r}static fromHSL(t,e,s,h){const r=i.hslToRgb({h:t,s:e,l:s});return a.fromRGB(r.r,r.g,r.b,h)}static fromHSV(t,e,s,h){const r=i.hsvToRgb({h:t,s:e,v:s});return a.fromRGB(r.r,r.g,r.b,h)}static random(){return a.fromRGB(Math.floor(Math.random()*256),Math.floor(Math.random()*256),Math.floor(Math.random()*256))}get red(){return this._value>>16&255}get green(){return this._value>>8&255}get blue(){return this._value&255}get alpha(){return this._alpha}get hue(){return this.toHSL().h}get saturation(){return this.toHSL().s}get lightness(){return this.toHSL().l}get brightness(){return this.toHSV().v}toHex(t=!1){if(!t&&this._hex)return this._hex;const e=`#${`000000${this._value.toString(16)}`.slice(-6).toUpperCase()}`;if(!t)return this._hex=e,e;if(this._alpha<1){const s=`0${(this._alpha*255|0).toString(16)}`.slice(-2);return e+s}return e}toRGB(){let t=a.rgbPool.pop();return t||(t={}),t.r=this._value>>16&255,t.g=this._value>>8&255,t.b=this._value&255,this._alpha<1?t.a=this._alpha:delete t.a,t}static returnRGB(t){a.rgbPool.length<a.rgbPoolSize&&a.rgbPool.push(t)}toRGBString(){const t=this._value>>16&255,e=this._value>>8&255,s=this._value&255;return this._alpha<1?`rgba(${t}, ${e}, ${s}, ${this._alpha})`:`rgb(${t}, ${e}, ${s})`}toHSL(){const t=this.toRGB(),e=i.rgbToHsl(t);return a.returnRGB(t),this._alpha<1&&(e.a=this._alpha),e}toHSLString(){const{h:t,s:e,l:s}=this.toHSL();return this._alpha<1?`hsla(${n.round(t)}, ${n.round(e)}%, ${n.round(s)}%, ${this._alpha})`:`hsl(${n.round(t)}, ${n.round(e)}%, ${n.round(s)}%)`}toHSV(){const t=this.toRGB(),e=i.rgbToHsv(t);return a.returnRGB(t),this._alpha<1&&(e.a=this._alpha),e}toString(t="hex"){switch(t){case"hex":return this.toHex();case"rgb":case"rgba":return this.toRGBString();case"hsl":case"hsla":return this.toHSLString();default:return this.toHex()}}lighten(t){const e=this.toHSL();return e.l=n.clamp(e.l+t,0,100),a.fromHSL(e.h,e.s,e.l,this._alpha)}darken(t){return this.lighten(-t)}saturate(t){const e=this.toHSL();return e.s=n.clamp(e.s+t,0,100),a.fromHSL(e.h,e.s,e.l,this._alpha)}desaturate(t){return this.saturate(-t)}rotate(t){const e=this.toHSL();return e.h=(e.h+t)%360,e.h<0&&(e.h+=360),a.fromHSL(e.h,e.s,e.l,this._alpha)}grayscale(){return this.desaturate(100)}invert(){const t=255-(this._value>>16&255),e=255-(this._value>>8&255),s=255-(this._value&255);return a.fromRGB(t,e,s,this._alpha)}release(){a.pool.length<a.poolSize&&(this._hex=void 0,a.pool.push(this))}static cleanup(){this.cache.clear(),this.pool.length=0,this.rgbPool.length=0}setAlpha(t){const e=this.clone();return e._alpha=n.clamp(t,0,1),e}fade(t){return this.setAlpha(n.clamp(this._alpha-t/100,0,1))}mix(t,e=50){const s=t instanceof a?t:new a(t),h=e/100,r=1-h,o=this._value>>16&255,u=this._value>>8&255,c=this._value&255,p=s._value>>16&255,g=s._value>>8&255,m=s._value&255,v=o*r+p*h|0,d=u*r+g*h|0,_=c*r+m*h|0,S=this._alpha*r+s._alpha*h;return a.fromRGB(v,d,_,S)}blend(t,e="normal"){const s=t instanceof a?t:new a(t),h=F.blend(this.toRGB(),s.toRGB(),e);return a.fromRGB(h.r,h.g,h.b,this._alpha)}getLuminance(){return l.getLuminance(this.toRGB())}contrast(t){const e=t instanceof a?t:new a(t);return l.getContrast(this.toRGB(),e.toRGB())}isLight(){return this.getLuminance()>.5}isDark(){return!this.isLight()}isWCAGCompliant(t,e="AA",s="normal"){const h=t instanceof a?t:new a(t);return l.isWCAGCompliant(this.toRGB(),h.toRGB(),e,s)}complementary(){return this.rotate(180)}analogous(t=30){return[this.rotate(-t),this.rotate(t)]}triadic(){return[this.rotate(120),this.rotate(240)]}tetradic(){return[this.rotate(90),this.rotate(180),this.rotate(270)]}splitComplementary(t=30){const e=this.rotate(180);return[e.rotate(-t),e.rotate(t)]}harmony(t){switch(t){case"complementary":return[this,this.complementary()];case"analogous":return[this,...this.analogous()];case"triadic":return[this,...this.triadic()];case"tetradic":return[this,...this.tetradic()];case"split-complementary":return[this,...this.splitComplementary()];case"monochromatic":return[this,this.lighten(15),this.lighten(30),this.darken(15),this.darken(30)];default:return[this]}}clone(){const t=a.pool.pop()||new a;return t._value=this._value,t._alpha=this._alpha,t._hex=void 0,t}dispose(){a.pool.length<a.poolSize&&(this._hex=void 0,a.pool.push(this))}equals(t){const e=t instanceof a?t:new a(t);return this._value===e._value&&this._alpha===e._alpha}distance(t){const e=t instanceof a?t:new a(t),s=(this._value>>16&255)-(e._value>>16&255),h=(this._value>>8&255)-(e._value>>8&255),r=(this._value&255)-(e._value&255);return Math.sqrt(s*s+h*h+r*r)}isValid(){return this._value>=0&&this._value<=16777215&&this._alpha>=0&&this._alpha<=1}toJSON(){return{rgb:this.toRGB(),hsl:this.toHSL(),hsv:this.toHSV(),hex:this.toHex(!0),alpha:this._alpha,luminance:this.getLuminance()}}}a.cache=new b.ColorCache(50),a.pool=[],a.poolSize=10,a.rgbPool=[],a.rgbPoolSize=20;const G=new a("#000000"),H=new a("#FFFFFF"),R=new a("#FF0000"),w=new a("#00FF00"),B=new a("#0000FF"),L=new a("#FFFF00"),$=new a("#00FFFF"),x=new a("#FF00FF"),y=new a("rgba(0,0,0,0)"),q={black:()=>G.clone(),white:()=>H.clone(),red:()=>R.clone(),green:()=>w.clone(),blue:()=>B.clone(),yellow:()=>L.clone(),cyan:()=>$.clone(),magenta:()=>x.clone(),transparent:()=>y.clone()};exports.Color=a,exports.Colors=q;/*! End of @ldesign/color | Powered by @ldesign/builder */
//# sourceMappingURL=Color.cjs.map
