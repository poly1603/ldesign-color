"use strict";/*!
 * ***********************************
 * @ldesign/color v1.0.0           *
 * Built with rollup               *
 * Build time: 2024-10-21 14:32:31 *
 * Build mode: production          *
 * Minified: No                    *
 * ***********************************
 */var s=require("../utils/math.cjs");function b(a,r,h){return h=s.clamp(h,0,1),{r:Math.round(a.r+(r.r-a.r)*h),g:Math.round(a.g+(r.g-a.g)*h),b:Math.round(a.b+(r.b-a.b)*h)}}function x(a,r,h){const c=a.r/255,o=a.g/255,u=a.b/255,t=r.r/255,e=r.g/255,n=r.b/255;let M,i,m;switch(h){case"normal":M=t,i=e,m=n;break;case"multiply":M=c*t,i=o*e,m=u*n;break;case"screen":M=1-(1-c)*(1-t),i=1-(1-o)*(1-e),m=1-(1-u)*(1-n);break;case"overlay":M=c<.5?2*c*t:1-2*(1-c)*(1-t),i=o<.5?2*o*e:1-2*(1-o)*(1-e),m=u<.5?2*u*n:1-2*(1-u)*(1-n);break;case"darken":M=Math.min(c,t),i=Math.min(o,e),m=Math.min(u,n);break;case"lighten":M=Math.max(c,t),i=Math.max(o,e),m=Math.max(u,n);break;case"color-dodge":M=t>=1?1:c/(1-t),i=e>=1?1:o/(1-e),m=n>=1?1:u/(1-n),M=Math.min(1,M),i=Math.min(1,i),m=Math.min(1,m);break;case"color-burn":M=t<=0?0:1-(1-c)/t,i=e<=0?0:1-(1-o)/e,m=n<=0?0:1-(1-u)/n,M=Math.max(0,M),i=Math.max(0,i),m=Math.max(0,m);break;case"hard-light":M=t<.5?2*c*t:1-2*(1-c)*(1-t),i=e<.5?2*o*e:1-2*(1-o)*(1-e),m=n<.5?2*u*n:1-2*(1-u)*(1-n);break;case"soft-light":M=t<.5?c*(1+t):c+t-c*t,i=e<.5?o*(1+e):o+e-o*e,m=n<.5?u*(1+n):u+n-u*n;break;case"difference":M=Math.abs(c-t),i=Math.abs(o-e),m=Math.abs(u-n);break;case"exclusion":M=c+t-2*c*t,i=o+e-2*o*e,m=u+n-2*u*n;break;case"linear-burn":M=Math.max(0,c+t-1),i=Math.max(0,o+e-1),m=Math.max(0,u+n-1);break;case"linear-dodge":M=Math.min(1,c+t),i=Math.min(1,o+e),m=Math.min(1,u+n);break;case"vivid-light":M=t<.5?t===0?0:Math.max(0,1-(1-c)/(2*t)):t===1?1:Math.min(1,c/(2*(1-t))),i=e<.5?e===0?0:Math.max(0,1-(1-o)/(2*e)):e===1?1:Math.min(1,o/(2*(1-e))),m=n<.5?n===0?0:Math.max(0,1-(1-u)/(2*n)):n===1?1:Math.min(1,u/(2*(1-n)));break;case"pin-light":M=t<.5?Math.min(c,2*t):Math.max(c,2*(t-.5)),i=e<.5?Math.min(o,2*e):Math.max(o,2*(e-.5)),m=n<.5?Math.min(u,2*n):Math.max(u,2*(n-.5));break;case"hard-mix":M=c+t<1?0:1,i=o+e<1?0:1,m=u+n<1?0:1;break;default:M=t,i=e,m=n}return{r:Math.round(s.clamp(M*255,0,255)),g:Math.round(s.clamp(i*255,0,255)),b:Math.round(s.clamp(m*255,0,255))}}const f=Object.freeze({r:255,g:255,b:255}),k=Object.freeze({r:0,g:0,b:0}),j=Object.freeze({r:128,g:128,b:128});function v(a,r){return b(a,f,r)}function z(a,r){return b(a,k,r)}function y(a,r){return b(a,j,r)}function C(a,r){r=s.clamp(r,-100,100);const h=1+r/100;return{r:Math.round(s.clamp(a.r*h,0,255)),g:Math.round(s.clamp(a.g*h,0,255)),b:Math.round(s.clamp(a.b*h,0,255))}}function O(a,r){r=s.clamp(r,-100,100);const h=(100+r)/100;return{r:Math.round(s.clamp((a.r-128)*h+128,0,255)),g:Math.round(s.clamp((a.g-128)*h+128,0,255)),b:Math.round(s.clamp((a.b-128)*h+128,0,255))}}function B(a,r){const h=1/r;return{r:Math.round(255*(a.r/255)**h),g:Math.round(255*(a.g/255)**h),b:Math.round(255*(a.b/255)**h)}}const d=[.393,.769,.189],g=[.349,.686,.168],l=[.272,.534,.131],p=1/255;function q(a,r=1){r=s.clamp(r,0,1);const h=a.r*p,c=a.g*p,o=a.b*p,u=d[0]*h+d[1]*c+d[2]*o,t=g[0]*h+g[1]*c+g[2]*o,e=l[0]*h+l[1]*c+l[2]*o,n=1-r;return{r:Math.round(s.clamp((h*n+u*r)*255,0,255)),g:Math.round(s.clamp((c*n+t*r)*255,0,255)),b:Math.round(s.clamp((o*n+e*r)*255,0,255))}}const w=.299,G=.587,_=.114;function A(a){const r=Math.round(w*a.r+G*a.g+_*a.b);return{r,g:r,b:r}}function D(a){return{r:255-a.r,g:255-a.g,b:255-a.b}}function E(a,r){r=Math.max(2,r);const h=255/(r-1);return{r:Math.round(Math.round(a.r/h)*h),g:Math.round(Math.round(a.g/h)*h),b:Math.round(Math.round(a.b/h)*h)}}exports.adjustBrightness=C,exports.adjustContrast=O,exports.blend=x,exports.gammaCorrection=B,exports.grayscale=A,exports.mix=b,exports.negative=D,exports.posterize=E,exports.sepia=q,exports.shade=z,exports.tint=v,exports.tone=y;/*! End of @ldesign/color | Powered by @ldesign/builder */
//# sourceMappingURL=manipulations.cjs.map
