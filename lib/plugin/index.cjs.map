{"version":3,"file":"index.cjs","sources":["../../src/plugin/index.ts"],"sourcesContent":[null],"names":["ColorPluginSymbol","Symbol","isRef","v","useSmartLocale","options","locale","ref","injected","inject","value","window","stored","localStorage","getItem","localeChangeHandler","e","customEvent","detail","addEventListener","removeEventListener","once","createColorPlugin","currentLocale","localeCache","WeakMap","getLocaleData","cacheKey","cached","get","getLocale","set","localeMessages","mergedOptions","prefix","storageKey","persistence","storageType","storage","autoApply","defaultTheme","includeSemantics","includeGrays","presets","disabledPresets","customThemes","hooks","nameMap","availablePresets","presetThemes","filter","preset","includes","name","length","sortPresets","sort","a","b","orderA","order","orderB","manager","ThemeManager","key","sessionStorage","error","onError","setItem","removeItem","applyTheme","colorOrName","themeOptions","oldTheme","getCurrentTheme","beforeChange","primaryColor","themeName","Error","newTheme","JSON","stringify","onSave","afterChange","applyPresetTheme","find","p","CUSTOM_THEMES_KEY","loadCustomThemes","parse","forEach","theme","push","custom","saveCustomThemes","loadTheme","onLoad","addCustomTheme","customTheme","Math","max","map","removeCustomTheme","index","findIndex","splice","getSortedPresets","cleanupHandlers","plugin","onChange","listener","unsubscribe","destroy","handler","install","app","sharedLocale","_context","provides","undefined","provide","config","globalProperties","$color","timeoutId","setTimeout","clearTimeout"],"mappings":"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"}